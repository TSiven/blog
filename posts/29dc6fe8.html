<!DOCTYPE html><html class="theme-next pisces use-motion" lang="zh-Hans"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><script src="/lib/pace/pace.min.js?v=1.0.2"></script><link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>!function(e,t,o,c,i,a,n){e.DaoVoiceObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,a=t.createElement(o),n=t.getElementsByTagName(o)[0],a.async=1,a.src=c,a.charset="utf-8",n.parentNode.insertBefore(a,n)}(window,document,"script",("https:"==document.location.protocol?"https:":"http:")+"//widget.daovoice.io/widget/0f81ff2f.js","daovoice"),daovoice("init",{app_id:"0b11d332"}),daovoice("update")</script><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="//fonts.lug.ustc.edu.cn/css?family=Lato:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css"><meta name="keywords" content="docker,"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2"><meta name="description" content="Dockeré•œåƒæœç´¢é•œåƒ1docker search mysql æ‹‰å–é•œåƒ1docker pull mysql:latest #latest:æ˜¯æŒ‡é•œåƒæœ€é«˜ç‰ˆæœ¬å· æŸ¥çœ‹é•œåƒåˆ—è¡¨1docker images"><meta name="keywords" content="docker"><meta property="og:type" content="article"><meta property="og:title" content="Dockerå¸¸ç”¨å‘½ä»¤"><meta property="og:url" content="http://blog.siven.net/posts/29dc6fe8.html"><meta property="og:site_name" content="SIVEN"><meta property="og:description" content="Dockeré•œåƒæœç´¢é•œåƒ1docker search mysql æ‹‰å–é•œåƒ1docker pull mysql:latest #latest:æ˜¯æŒ‡é•œåƒæœ€é«˜ç‰ˆæœ¬å· æŸ¥çœ‹é•œåƒåˆ—è¡¨1docker images"><meta property="og:locale" content="zh-Hans"><meta property="og:updated_time" content="2019-04-24T16:28:55.473Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Dockerå¸¸ç”¨å‘½ä»¤"><meta name="twitter:description" content="Dockeré•œåƒæœç´¢é•œåƒ1docker search mysql æ‹‰å–é•œåƒ1docker pull mysql:latest #latest:æ˜¯æŒ‡é•œåƒæœ€é«˜ç‰ˆæœ¬å· æŸ¥çœ‹é•œåƒåˆ—è¡¨1docker images"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Pisces",sidebar:{position:"left",display:"post",offset:12,offset_float:0,b2t:!1,scrollpercent:!0,onmobile:!1},fancybox:!0,tabs:!0,motion:!0,duoshuo:{userId:"0",author:"åšä¸»"},algolia:{applicationID:"825YYD4YJF",apiKey:"41b8dad392ff7369dc6ebe0e31ceee1b",indexName:"blog.siven.net",hits:{per_page:10},labels:{input_placeholder:"Search",hits_empty:"æ‰¾ä¸åˆ°å…³äºâ€œ ${query} â€çš„æ–‡ç« ",hits_stats:"å…±æ‰¾åˆ° ${hits} ç¯‡æ–‡ç« ï¼ŒèŠ±äº† ${time} ms"}}}</script><link rel="canonical" href="http://blog.siven.net/posts/29dc6fe8.html"><title>Dockerå¸¸ç”¨å‘½ä»¤ | SIVEN</title><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?0d37f4b108c9d3407146e535c816c8d6";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta custom-logo"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">SIVEN</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">åˆ†äº«æˆ‘çš„çŸ¥è¯†ã€ç»éªŒå’Œè§è§£</h1></div><div class="site-nav-toggle"> <button><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br> é¦–é¡µ</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br> å½’æ¡£</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br> æ ‡ç­¾</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br> æœç´¢</a></li></ul><div class="site-search"><div class="algolia-popup popup search-popup"><div class="algolia-search"><div class="algolia-search-input-icon"><i class="fa fa-search"></i></div><div class="algolia-search-input" id="algolia-search-input"></div></div><div class="algolia-results"><div id="algolia-stats"></div><div id="algolia-hits"></div><div id="algolia-pagination" class="algolia-pagination"></div></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://blog.siven.net/posts/29dc6fe8.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§è¡¨å“¥"><meta itemprop="description" content><meta itemprop="image" content="/uploads/avatar.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="SIVEN"></span><header class="post-header"><h2 class="post-title" itemprop="name headline">Dockerå¸¸ç”¨å‘½ä»¤</h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">å‘è¡¨äº</span> <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-06-27T13:58:29+08:00">2018-06-27</time></span> <span class="post-category"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">åˆ†ç±»äº</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Docker/" itemprop="url" rel="index"><span itemprop="name">Docker</span></a></span></span> <span id="/posts/29dc6fe8.html" class="leancloud_visitors" data-flag-title="Dockerå¸¸ç”¨å‘½ä»¤"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°</span><span class="leancloud-visitors-count"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="Dockeré•œåƒ"><a href="#Dockeré•œåƒ" class="headerlink" title="Dockeré•œåƒ"></a>Dockeré•œåƒ</h1><h2 id="æœç´¢é•œåƒ"><a href="#æœç´¢é•œåƒ" class="headerlink" title="æœç´¢é•œåƒ"></a>æœç´¢é•œåƒ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search mysql</span><br></pre></td></tr></table></figure><h2 id="æ‹‰å–é•œåƒ"><a href="#æ‹‰å–é•œåƒ" class="headerlink" title="æ‹‰å–é•œåƒ"></a>æ‹‰å–é•œåƒ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull mysql:latest <span class="comment">#latest:æ˜¯æŒ‡é•œåƒæœ€é«˜ç‰ˆæœ¬å·</span></span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹é•œåƒåˆ—è¡¨"><a href="#æŸ¥çœ‹é•œåƒåˆ—è¡¨" class="headerlink" title="æŸ¥çœ‹é•œåƒåˆ—è¡¨"></a>æŸ¥çœ‹é•œåƒåˆ—è¡¨</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="æŸ¥çœ‹é•œåƒæ„å»ºè¿‡ç¨‹"><a href="#æŸ¥çœ‹é•œåƒæ„å»ºè¿‡ç¨‹" class="headerlink" title="æŸ¥çœ‹é•œåƒæ„å»ºè¿‡ç¨‹"></a>æŸ¥çœ‹é•œåƒæ„å»ºè¿‡ç¨‹</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Usage: docker <span class="built_in">history</span> [OPTIONS] IMAGE</span><br><span class="line">Show the <span class="built_in">history</span> of an image</span><br><span class="line">Options:</span><br><span class="line">        â€â€format string ä½¿ç”¨Goæ¨¡æ¿çš„ç¾è§‚çš„æ‰“å°é•œåƒã€‚</span><br><span class="line">    â€H, â€â€human æ‰“å°äººç±»å¯è¯»çš„å¤§å°å’Œæ—¥æœŸæ ¼å¼(default <span class="literal">true</span>)</span><br><span class="line">        â€â€noâ€trunc ä¸æˆªæ–­è¾“å‡º</span><br><span class="line">    â€q, â€â€quiet åªæ˜¾ç¤ºé•œåƒç¼–å·</span><br></pre></td></tr></table></figure><h2 id="åˆ é™¤é•œåƒ"><a href="#åˆ é™¤é•œåƒ" class="headerlink" title="åˆ é™¤é•œåƒ"></a>åˆ é™¤é•œåƒ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Usage: docker rmi [OPTIONS] IMAGE [IMAGE...]</span><br><span class="line">Remove one or more images</span><br><span class="line">Options:</span><br><span class="line">    â€f, â€â€force å¼ºåˆ¶åˆ é™¤é•œåƒ</span><br><span class="line">        â€â€noâ€prune ä¸ç§»é™¤è¯¥é•œåƒçš„è¿‡ç¨‹é•œåƒï¼Œé»˜è®¤ç§»é™¤</span><br></pre></td></tr></table></figure><h1 id="Dockerå®¹å™¨"><a href="#Dockerå®¹å™¨" class="headerlink" title="Dockerå®¹å™¨"></a>Dockerå®¹å™¨</h1><h2 id="æŸ¥çœ‹é…ç½®ä¿¡æ¯"><a href="#æŸ¥çœ‹é…ç½®ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹é…ç½®ä¿¡æ¯"></a>æŸ¥çœ‹é…ç½®ä¿¡æ¯</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker info</span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹å®¹å™¨åˆ—è¡¨"><a href="#æŸ¥çœ‹å®¹å™¨åˆ—è¡¨" class="headerlink" title="æŸ¥çœ‹å®¹å™¨åˆ—è¡¨"></a>æŸ¥çœ‹å®¹å™¨åˆ—è¡¨</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Usage: docker ps [OPTIONS]</span><br><span class="line">List containers</span><br><span class="line">Options:</span><br><span class="line">    â€a, â€â€all æ˜¾ç¤ºæ‰€æœ‰å®¹å™¨ (é»˜è®¤æ˜¾ç¤ºè¿è¡Œ)</span><br><span class="line">    â€f, â€â€filter filter æ ¹æ®æä¾›çš„æ¡ä»¶è¿‡æ»¤æ˜¾ç¤ºçš„å†…å®¹</span><br><span class="line">        â€â€format string ä½¿ç”¨Goæ¨¡æ¿çš„ç¾è§‚çš„æ‰“å°å®¹å™¨ã€‚</span><br><span class="line">    â€n, â€â€last int æ˜¾ç¤ºæœ€åä¸€ä¸ªåˆ›å»ºçš„å®¹å™¨ (includes all states) (default â€1)</span><br><span class="line">    â€l, â€â€latest æ˜¾ç¤ºæœ€æ–°åˆ›å»ºçš„å®¹å™¨ã€‚(includes all states)</span><br><span class="line">        â€â€noâ€trunc ä¸æˆªæ–­è¾“å‡º</span><br><span class="line">    â€q, â€â€quiet åªæ˜¾ç¤ºå®¹å™¨ç¼–å·</span><br><span class="line">    â€s, â€â€size æ˜¾ç¤ºæ€»çš„æ–‡ä»¶å¤§å°</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨"><a href="#åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨" class="headerlink" title="åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨"></a>åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Usage: docker run [OPTIONS]</span><br><span class="line">Options:</span><br><span class="line">Â Â Â Â -d åå°è¿è¡Œ</span><br><span class="line">Â Â Â Â -it è¿›å…¥å®¹å™¨</span><br><span class="line">Â Â Â Â --name ç»™å®¹å™¨å–å</span><br></pre></td></tr></table></figure><ul><li>éšæœºæ˜ å°„ç«¯å£</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -P --name mynginx nginx</span><br></pre></td></tr></table></figure><ul><li>æŒ‡å®šæ˜ å°„ç«¯å£</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 8080:80 --name mynginx nginx</span><br></pre></td></tr></table></figure><ul><li>æ˜ å°„å®¿ä¸»æœºæ–‡ä»¶ç›®å½•</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --name volume-test1 -h nginx -v /data centos</span><br></pre></td></tr></table></figure><ul><li>æŸ¥çœ‹å®¿ä¸»æœºæ–‡ä»¶ç›®å½•</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect --format <span class="string">"&#123;&#123;.Mounts&#125;&#125;"</span> volume-test1</span><br></pre></td></tr></table></figure><ul><li>æ˜ å°„å®¿ä¸»æœºæŒ‡å®šæ–‡ä»¶ç›®å½•</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --name volume-test2 -h nginx -v /root/blog:/root/blog centos</span><br></pre></td></tr></table></figure><h2 id="å¯åŠ¨ã€åœæ­¢ã€é‡å¯å®¹å™¨"><a href="#å¯åŠ¨ã€åœæ­¢ã€é‡å¯å®¹å™¨" class="headerlink" title="å¯åŠ¨ã€åœæ­¢ã€é‡å¯å®¹å™¨"></a>å¯åŠ¨ã€åœæ­¢ã€é‡å¯å®¹å™¨</h2><h3 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Usage: docker start [OPTIONS] CONTAINER [CONTAINER...]</span><br><span class="line">Start one or more stopped containers</span><br><span class="line">Options:</span><br><span class="line">    â€a, â€â€attach å¯åŠ¨ä¸€ä¸ªå®¹å™¨å¹¶æ‰“å°è¾“å‡ºç»“æœå’Œé”™è¯¯</span><br><span class="line">        â€â€checkpoint string ä»è¿™ä¸ªæ£€æŸ¥ç‚¹æ¢å¤</span><br><span class="line">        â€â€checkpointâ€dir string ä½¿ç”¨ä¸€ä¸ªè‡ªå®šä¹‰æ£€æŸ¥ç‚¹å­˜å‚¨ç›®å½•</span><br><span class="line">        â€â€detachâ€keys string é‡å†™åˆ†ç¦»å®¹å™¨çš„é”®åºåˆ—</span><br><span class="line">    â€i, â€â€interactive å¯åŠ¨ä¸€ä¸ªå®¹å™¨å¹¶è¿›å…¥äº¤äº’æ¨¡å¼</span><br></pre></td></tr></table></figure><h3 id="é‡å¯"><a href="#é‡å¯" class="headerlink" title="é‡å¯"></a>é‡å¯</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Usage: docker restart [OPTIONS] CONTAINER [CONTAINER...]</span><br><span class="line">Restart one or more containers</span><br><span class="line">Options:</span><br><span class="line">    â€t, â€â€time int åœæ­¢æˆ–è€…é‡å¯å®¹å™¨çš„è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œè¶…æ—¶åç³»ç»Ÿå°†æ€æ­»è¿›ç¨‹(default 10)</span><br><span class="line">åœæ­¢</span><br></pre></td></tr></table></figure><h3 id="åœæ­¢"><a href="#åœæ­¢" class="headerlink" title="åœæ­¢"></a>åœæ­¢</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Usage: docker stop [OPTIONS] CONTAINER [CONTAINER...]</span><br><span class="line">Stop one or more running containers</span><br><span class="line">Options:</span><br><span class="line">    â€t, â€â€time int åœæ­¢æˆ–è€…é‡å¯å®¹å™¨çš„è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œè¶…æ—¶åç³»ç»Ÿå°†æ€æ­»è¿›ç¨‹(default 10)</span><br></pre></td></tr></table></figure><h2 id="åˆ é™¤å®¹å™¨"><a href="#åˆ é™¤å®¹å™¨" class="headerlink" title="åˆ é™¤å®¹å™¨"></a>åˆ é™¤å®¹å™¨</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Usage: docker rm [OPTIONS] CONTAINER [CONTAINER...]</span><br><span class="line">Remove one or more containers</span><br><span class="line">Options:</span><br><span class="line">    â€f, â€â€force å¼ºåˆ¶ç§»é™¤æ­£åœ¨è¿è¡Œçš„å®¹å™¨(uses SIGKILL)</span><br><span class="line">    â€l, â€â€link åˆ é™¤æŒ‡å®šçš„é“¾æ¥</span><br><span class="line">    â€v, â€â€volumes åˆ é™¤ä¸å®¹å™¨å…³è”çš„å·</span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹æ—¥å¿—"><a href="#æŸ¥çœ‹æ—¥å¿—" class="headerlink" title="æŸ¥çœ‹æ—¥å¿—"></a>æŸ¥çœ‹æ—¥å¿—</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Usage: docker logs [OPTIONS] CONTAINER</span><br><span class="line">Fetch the logs of a container</span><br><span class="line">Options:</span><br><span class="line">        â€â€details å‘æ—¥å¿—æ˜¾ç¤ºé¢å¤–çš„è¯¦ç»†ä¿¡æ¯ã€‚</span><br><span class="line">    â€f, â€â€follow  è·Ÿè¸ªæ—¥å¿—è¾“å‡º</span><br><span class="line">        â€â€since string æ˜¾ç¤ºæŸä¸ªå¼€å§‹æ—¶é—´çš„æ‰€æœ‰æ—¥å¿— (e.g. 2013â€01â€02T13:23:37) or relative</span><br><span class="line">        (e.g. 42m <span class="keyword">for</span> 42 minutes)</span><br><span class="line">        â€â€tail string ä»æ—¥å¿—æœ«å°¾æ˜¾ç¤ºçš„è¡Œæ•°</span><br><span class="line">        (default <span class="string">"all"</span>)</span><br><span class="line">    â€t, â€â€timestamps æ˜¾ç¤ºæ—¶é—´æˆ³</span><br><span class="line">        â€â€until string æ˜¾ç¤ºæŸä¸ªæ—¶é—´æˆ³ä¹‹å‰çš„æ—¥å¿— (e.g. 2013â€01â€02T13:23:37) or relative</span><br><span class="line">    (e.g. 42m <span class="keyword">for</span> 42 minutes)</span><br></pre></td></tr></table></figure><ul><li>ç¤ºä¾‹</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker logs -t -f --tail=500 PID</span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹å®¹å™¨å†…çš„è¿›ç¨‹"><a href="#æŸ¥çœ‹å®¹å™¨å†…çš„è¿›ç¨‹" class="headerlink" title="æŸ¥çœ‹å®¹å™¨å†…çš„è¿›ç¨‹"></a>æŸ¥çœ‹å®¹å™¨å†…çš„è¿›ç¨‹</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Usage: docker top [OPTIONS] CONTAINER [ps OPTIONS]</span><br><span class="line"><span class="comment"># ä¾‹å¦‚ï¼š</span></span><br><span class="line">sudo docker top name/id</span><br></pre></td></tr></table></figure><h2 id="æ·±å…¥å®¹å™¨ä¿¡æ¯"><a href="#æ·±å…¥å®¹å™¨ä¿¡æ¯" class="headerlink" title="æ·±å…¥å®¹å™¨ä¿¡æ¯"></a>æ·±å…¥å®¹å™¨ä¿¡æ¯</h2><p>åŒ…æ‹¬é…ç½®ä¿¡æ¯ï¼Œåç§°ï¼Œå‘½ä»¤ã€ç½‘è·¯é…ç½®ä»¥åŠå¾ˆå¤šæœ‰ç”¨æ•°æ®<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Usage: docker inspect [OPTIONS] NAME|ID [NAME|ID...]</span><br><span class="line">Return lowâ€level information on Docker objects</span><br><span class="line">Options:</span><br><span class="line">    â€f, â€â€format string ä½¿ç”¨ç»™å®šçš„Goæ¨¡æ¿æ ¼å¼åŒ–è¾“å‡º</span><br><span class="line">    â€s, â€â€size å¦‚æœç±»å‹ä¸ºå®¹å™¨ï¼Œåˆ™æ˜¾ç¤ºæ€»æ–‡ä»¶å¤§å°</span><br><span class="line">        â€â€<span class="built_in">type</span> string è¿”å›æŒ‡å®šç±»å‹çš„JSON</span><br></pre></td></tr></table></figure><p></p><ul><li>ç¤ºä¾‹</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##Â é¦–å…ˆè·å–å®¹å™¨çš„pid</span></span><br><span class="line">docker inspect --format <span class="string">"&#123;&#123;.State.Pid&#125;&#125;"</span> å®¹å™¨å</span><br><span class="line"><span class="comment">## æ ¹æ®è¿›ç¨‹å·è¿›å…¥æŒ‚è½½</span></span><br><span class="line">nsenter --target è¿›ç¨‹å·(Pid) --mount --uts --ipc --net --pid</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹ç½‘ç»œé…ç½®"><a href="#æŸ¥çœ‹ç½‘ç»œé…ç½®" class="headerlink" title="æŸ¥çœ‹ç½‘ç»œé…ç½®"></a>æŸ¥çœ‹ç½‘ç»œé…ç½®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect â€â€format <span class="string">'&#123;&#123;.NetworkSettings&#125;&#125;'</span> å®¹å™¨ID</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹å®¹å™¨IPåœ°å€"><a href="#æŸ¥çœ‹å®¹å™¨IPåœ°å€" class="headerlink" title="æŸ¥çœ‹å®¹å™¨IPåœ°å€"></a>æŸ¥çœ‹å®¹å™¨IPåœ°å€</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect â€â€format <span class="string">'&#123;&#123;.NetworkSettings.IPAddress&#125;&#125;'</span> å®¹å™¨ID</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹æ‰€æœ‰å®¹å™¨çš„IPåœ°å€"><a href="#æŸ¥çœ‹æ‰€æœ‰å®¹å™¨çš„IPåœ°å€" class="headerlink" title="æŸ¥çœ‹æ‰€æœ‰å®¹å™¨çš„IPåœ°å€"></a>æŸ¥çœ‹æ‰€æœ‰å®¹å™¨çš„IPåœ°å€</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker inspect â€â€format=<span class="string">'&#123;&#123;.Name&#125;&#125; â€ &#123;&#123;range .NetworkSettings.Networks&#125;&#125;&#123;&#123;.IPAddress&#125;&#125;</span></span><br><span class="line"><span class="string">&#123;&#123;end&#125;&#125;'</span> $(docker ps â€aq)</span><br></pre></td></tr></table></figure><h1 id="Dockerå®¹å™¨è¿›å…¥çš„4ç§æ–¹å¼"><a href="#Dockerå®¹å™¨è¿›å…¥çš„4ç§æ–¹å¼" class="headerlink" title="Dockerå®¹å™¨è¿›å…¥çš„4ç§æ–¹å¼"></a>Dockerå®¹å™¨è¿›å…¥çš„4ç§æ–¹å¼</h1><h2 id="SSHç™»é™†è¿›å®¹å™¨"><a href="#SSHç™»é™†è¿›å®¹å™¨" class="headerlink" title="SSHç™»é™†è¿›å®¹å™¨"></a>SSHç™»é™†è¿›å®¹å™¨</h2><ul><li>æ–¹æ³•1ï¼šéœ€è¦åœ¨å®¹å™¨ä¸­å¯åŠ¨sshdï¼Œå­˜åœ¨å¼€é”€å’Œæ”»å‡»é¢å¢å¤§çš„é—®é¢˜ã€‚åŒæ—¶ä¹Ÿè¿åäº†Dockeræ‰€å€¡å¯¼çš„ä¸€ä¸ªå®¹å™¨ä¸€ä¸ªè¿›ç¨‹<br>çš„åŸåˆ™ã€‚</li><li>æ–¹æ³•2ï¼šéœ€è¦é¢å¤–å­¦ä¹ ä½¿ç”¨ç¬¬ä¸‰æ–¹å·¥å…·ã€‚</li></ul><h2 id="nsenterã€nsinitç­‰ç¬¬ä¸‰æ–¹å·¥å…·"><a href="#nsenterã€nsinitç­‰ç¬¬ä¸‰æ–¹å·¥å…·" class="headerlink" title="nsenterã€nsinitç­‰ç¬¬ä¸‰æ–¹å·¥å…·"></a>nsenterã€nsinitç­‰ç¬¬ä¸‰æ–¹å·¥å…·</h2><p>æ‰€ä»¥å¤§å¤šæ•°æƒ…å†µæœ€å¥½è¿˜æ˜¯ä½¿ç”¨DockeråŸç”Ÿæ–¹æ³•ï¼ŒDockerç›®å‰ä¸»è¦æä¾›äº†<code>docker exec</code>å’Œ<code>docker attach</code>ä¸¤ä¸ªå‘½<br>ä»¤ã€‚</p><h2 id="docker-attach"><a href="#docker-attach" class="headerlink" title="docker attach"></a>docker attach</h2><p>Docker attachå¯ä»¥attachåˆ°ä¸€ä¸ªå·²ç»è¿è¡Œçš„å®¹å™¨çš„<code>stdin</code>ï¼Œç„¶åè¿›è¡Œå‘½ä»¤æ‰§è¡Œçš„åŠ¨ä½œã€‚<br>ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä»è¿™ä¸ª<code>stdin</code>ä¸­<code>exit</code>ï¼Œä¼š<code>å¯¼è‡´å®¹å™¨åœæ­¢</code>ã€‚</p><ol><li><p>å¿…é¡»ä½¿ç”¨<code>/bin/bash</code>å‘½ä»¤åˆ›å»ºçš„å®¹å™¨æ‰èƒ½ä½¿ç”¨Docker attachè¿›å…¥å®¹å™¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run â€itd ubuntu:14.04 /bin/bash</span><br></pre></td></tr></table></figure></li><li><p>ç„¶åæˆ‘ä»¬ä½¿ç”¨<code>docker ps</code>æŸ¥çœ‹åˆ°è¯¥å®¹å™¨ä¿¡æ¯ï¼Œæ¥ä¸‹æ¥å°±ä½¿ç”¨<code>docker attach</code>è¿›å…¥è¯¥å®¹å™¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker attach 44fc0f0582d9</span><br></pre></td></tr></table></figure></li></ol><h2 id="docker-exec"><a href="#docker-exec" class="headerlink" title="docker exec"></a>docker exec</h2><p>å…³äº-iã€-tå‚æ•°</p><ul><li>-i<br>å¯ä»¥çœ‹å‡ºåªç”¨-iæ—¶ï¼Œç”±äºæ²¡æœ‰åˆ†é…ä¼ªç»ˆç«¯ï¼Œçœ‹èµ·æ¥åƒpipeæ‰§è¡Œä¸€æ ·ã€‚ä½†æ˜¯æ‰§è¡Œç»“æœã€å‘½ä»¤è¿”å›å€¼éƒ½å¯ä»¥æ­£ç¡®<br>è·å–ã€‚</li><li>-it<br> ä½¿ç”¨-itæ—¶ï¼Œåˆ™å’Œæˆ‘ä»¬å¹³å¸¸æ“ä½œconsoleç•Œé¢ç±»ä¼¼ã€‚è€Œä¸”ä¹Ÿä¸ä¼šåƒ<code>attach</code>æ–¹å¼å› ä¸ºé€€å‡ºï¼Œå¯¼è‡´æ•´ä¸ªå®¹å™¨é€€å‡ºã€‚<br>è¿™ç§æ–¹å¼å¯ä»¥æ›¿ä»£<code>ssh</code>æˆ–è€…<code>nsenter</code>ã€<code>nsinit</code>æ–¹å¼ï¼Œåœ¨å®¹å™¨å†…è¿›è¡Œæ“ä½œã€‚</li><li>-t<br> å¦‚æœåªä½¿ç”¨-tå‚æ•°ï¼Œåˆ™å¯ä»¥çœ‹åˆ°ä¸€ä¸ªconsoleçª—å£ï¼Œä½†æ˜¯æ‰§è¡Œå‘½ä»¤ä¼šå‘ç°ç”±äºæ²¡æœ‰è·å¾—stdinçš„è¾“å‡ºï¼Œæ— æ³•çœ‹<br>åˆ°å‘½ä»¤æ‰§è¡Œæƒ…å†µã€‚<br>å…³äº-då‚æ•°</li><li>-d<br> åœ¨åå°æ‰§è¡Œä¸€ä¸ªè¿›ç¨‹ã€‚å¯ä»¥çœ‹å‡ºï¼Œå¦‚æœä¸€ä¸ªå‘½ä»¤éœ€è¦é•¿æ—¶é—´è¿›ç¨‹ï¼Œä½¿ç”¨-då‚æ•°ä¼šå¾ˆå¿«è¿”å›ã€‚ ç¨‹åºåœ¨åå°è¿<br>è¡Œã€‚ å¦‚æœä¸ä½¿ç”¨<code>-d</code>å‚æ•°ï¼Œç”±äºå‘½ä»¤éœ€è¦é•¿æ—¶é—´æ‰§è¡Œï¼Œ<code>docker exec</code>ä¼šå¡ä½ï¼Œä¸€ç›´ç­‰å‘½ä»¤æ‰§è¡Œå®Œæˆ æ‰è¿”å›ã€‚</li></ul><p>ä½¿ç”¨<code>docker exec</code>è¿›å…¥å®¹å™¨<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker <span class="built_in">exec</span> â€it 775c7c9ee1e1 /bin/bash</span><br></pre></td></tr></table></figure><p></p><h1 id="å°æŠ€å·§"><a href="#å°æŠ€å·§" class="headerlink" title="å°æŠ€å·§"></a>å°æŠ€å·§</h1><h2 id="åœæ­¢å®¹å™¨-amp-åˆ é™¤å®¹å™¨æ‰€æœ‰å®¹å™¨-æ…ç”¨"><a href="#åœæ­¢å®¹å™¨-amp-åˆ é™¤å®¹å™¨æ‰€æœ‰å®¹å™¨-æ…ç”¨" class="headerlink" title="åœæ­¢å®¹å™¨ &amp; åˆ é™¤å®¹å™¨æ‰€æœ‰å®¹å™¨ (æ…ç”¨)"></a>åœæ­¢å®¹å™¨ &amp; åˆ é™¤å®¹å™¨æ‰€æœ‰å®¹å™¨ (æ…ç”¨)</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop $(docker ps -q) &amp; docker rm $(docker ps -aq)</span><br></pre></td></tr></table></figure><h2 id="æ¸…é™¤åçš„-lt-none-gt-lt-none-gt-é•œåƒ"><a href="#æ¸…é™¤åçš„-lt-none-gt-lt-none-gt-é•œåƒ" class="headerlink" title="æ¸…é™¤åçš„&lt;none&gt;:&lt;none&gt;é•œåƒ"></a>æ¸…é™¤åçš„<code>&lt;none&gt;:&lt;none&gt;</code>é•œåƒ</h2><ul><li>åçš„é•œåƒçš„äº§ç”Ÿ<br><code>docker build</code> æˆ–æ˜¯ <code>pull</code> å‘½ä»¤å°±ä¼šäº§ç”Ÿä¸´æ—¶é•œåƒã€‚å¦‚æœæˆ‘ä»¬ç”¨<code>dockerfile</code>åˆ›å»ºä¸€ä¸ªhelloworldé•œåƒåï¼Œå› ä¸ºç‰ˆæœ¬æ›´æ–°éœ€è¦é‡æ–°åˆ›å»ºï¼Œé‚£ä¹ˆä»¥å‰é‚£ä¸ªç‰ˆæœ¬çš„é•œåƒå°±ä¼š<br>æˆä¸ºä¸´æ—¶é•œåƒã€‚è¿™ä¸ªæ˜¯éœ€è¦åˆ é™¤çš„ã€‚åˆ é™¤å‘½ä»¤è§ä¸‹ã€‚<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rmi $(docker images -f <span class="string">"dangling=true"</span> -q)</span><br></pre></td></tr></table></figure></li></ul><h2 id="å¿«é€Ÿè¿›å…¥å®¹å™¨è„šæœ¬"><a href="#å¿«é€Ÿè¿›å…¥å®¹å™¨è„šæœ¬" class="headerlink" title="å¿«é€Ÿè¿›å…¥å®¹å™¨è„šæœ¬"></a>å¿«é€Ÿè¿›å…¥å®¹å™¨è„šæœ¬</h2><ul><li>åˆ›å»ºè„šæœ¬</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim in.sh</span><br></pre></td></tr></table></figure><ul><li>å†…å®¹å¦‚ä¸‹</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">CNAME=<span class="variable">$1</span></span><br><span class="line">CPID=$(docker inspect --format <span class="string">"&#123;&#123;.State.Pid&#125;&#125;"</span> <span class="variable">$CNAME</span>)</span><br><span class="line">nsenter --target <span class="string">"<span class="variable">$CPID</span>"</span> --mount --uts --ipc --net --pid</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨æ–¹å¼</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./in.sh mynginx</span><br></pre></td></tr></table></figure><h2 id="å®¹å™¨å¼€æœºè‡ªåŠ¨å¯åŠ¨"><a href="#å®¹å™¨å¼€æœºè‡ªåŠ¨å¯åŠ¨" class="headerlink" title="å®¹å™¨å¼€æœºè‡ªåŠ¨å¯åŠ¨"></a>å®¹å™¨å¼€æœºè‡ªåŠ¨å¯åŠ¨</h2><p>åœ¨ä½¿ç”¨<code>docker run</code>å¯åŠ¨å®¹å™¨æ—¶ï¼Œä½¿ç”¨<code>â€“restart</code>å‚æ•°æ¥è®¾ç½®ï¼š<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker run â€m 512m â€â€memoryâ€swap 1G â€it â€p 58080:8080 â€â€restart=always â€â€name bvrfis â€â€</span><br><span class="line">volumesâ€from logdata mytomcat:4.0 /root/run.sh</span><br></pre></td></tr></table></figure><p></p><ul><li>å‘½ä»¤è¯´æ˜ï¼š<br> â€“restartå…·ä½“å‚æ•°å€¼è¯¦ç»†ä¿¡æ¯ï¼š<br> no - å®¹å™¨é€€å‡ºæ—¶ï¼Œä¸é‡å¯å®¹å™¨ï¼›<br> on-failure - åªæœ‰åœ¨é0çŠ¶æ€é€€å‡ºæ—¶æ‰ä»æ–°å¯åŠ¨å®¹å™¨ï¼›<br> always - æ— è®ºé€€å‡ºçŠ¶æ€æ˜¯å¦‚ä½•ï¼Œéƒ½é‡å¯å®¹å™¨ã€‚</li></ul><p>å¦‚æœåˆ›å»ºæ—¶æœªæŒ‡å®š <code>â€“restart=always</code> ,å¯é€šè¿‡<code>update</code> å‘½ä»¤è®¾ç½®<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker update â€â€restart=always xxx</span><br></pre></td></tr></table></figure><p></p><p>è¿˜å¯ä»¥åœ¨ä½¿ç”¨ <code>on-failure</code> ç­–ç•¥æ—¶ï¼ŒæŒ‡å®šDockerå°†å°è¯•é‡æ–°å¯åŠ¨å®¹å™¨çš„æœ€å¤§æ¬¡æ•°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒDockerå°†å°è¯•æ°¸è¿œé‡æ–°<br>å¯åŠ¨å®¹å™¨ã€‚<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run â€â€restart=onâ€failure:10 redis</span><br></pre></td></tr></table></figure><p></p></div><div><div style="padding:10px 0;margin:20px auto;width:90%;text-align:center"><div>æ‚¨çš„æ”¯æŒå°†é¼“åŠ±æˆ‘ç»§ç»­åˆ›ä½œï¼ğŸ˜˜</div> <button id="rewardButton" disable="enable" onclick='var qr=document.getElementById("QR");"none"===qr.style.display?qr.style.display="block":qr.style.display="none"'> <span>èµ</span></button><div id="QR" style="display:none"><div id="wechat" style="display:inline-block"> <img id="wechat_qr" src="/uploads/wechatpay.jpg" alt="å¤§è¡¨å“¥ WeChat Pay"><p>WeChat Pay</p></div><div id="alipay" style="display:inline-block"> <img id="alipay_qr" src="/uploads/alipay.jpg" alt="å¤§è¡¨å“¥ Alipay"><p>Alipay</p></div></div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>æœ¬æ–‡ä½œè€…ï¼š</strong> å¤§è¡¨å“¥</li><li class="post-copyright-link"> <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong> <a href="http://blog.siven.net/posts/29dc6fe8.html" title="Dockerå¸¸ç”¨å‘½ä»¤">http://blog.siven.net/posts/29dc6fe8.html</a></li><li class="post-copyright-license"> <strong>ç‰ˆæƒå£°æ˜ï¼š</strong> æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/docker/" rel="tag"><i class="fa fa-tag"></i> docker</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/posts/b3ff4f99.html" rel="next" title="GITåˆå§‹åŒ–ä»“åº“"><i class="fa fa-chevron-left"></i> GITåˆå§‹åŒ–ä»“åº“</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"> <a href="/posts/812d49a5.html" rel="prev" title="ç§‘å­¦ä¸Šç½‘">ç§‘å­¦ä¸Šç½‘<i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"><div class="addthis_inline_share_toolbox"><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5a98f006aa9656d0" async="async"></script></div></div></div></div><div class="comments" id="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC8zMDY4Ni83MjQx"></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap"> æ–‡ç« ç›®å½•</li><li class="sidebar-nav-overview" data-target="site-overview"> ç«™ç‚¹æ¦‚è§ˆ</li></ul><section class="site-overview sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" src="/uploads/avatar.jpg" alt="å¤§è¡¨å“¥"><p class="site-author-name" itemprop="name">å¤§è¡¨å“¥</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">27</span> <span class="site-state-item-name">æ—¥å¿—</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/index.html"><span class="site-state-item-count">13</span> <span class="site-state-item-name">åˆ†ç±»</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/index.html"><span class="site-state-item-count">32</span> <span class="site-state-item-name">æ ‡ç­¾</span></a></div></nav><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/TSiven" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="https://gitee.com/sivencode" target="_blank" title="Gitee"><i class="fa fa-fw fa-globe"></i> Gitee</a></span></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Dockeré•œåƒ"><span class="nav-number">1.</span> <span class="nav-text">Dockeré•œåƒ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#æœç´¢é•œåƒ"><span class="nav-number">1.1.</span> <span class="nav-text">æœç´¢é•œåƒ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ‹‰å–é•œåƒ"><span class="nav-number">1.2.</span> <span class="nav-text">æ‹‰å–é•œåƒ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æŸ¥çœ‹é•œåƒåˆ—è¡¨"><span class="nav-number">1.3.</span> <span class="nav-text">æŸ¥çœ‹é•œåƒåˆ—è¡¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æŸ¥çœ‹é•œåƒæ„å»ºè¿‡ç¨‹"><span class="nav-number">1.4.</span> <span class="nav-text">æŸ¥çœ‹é•œåƒæ„å»ºè¿‡ç¨‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åˆ é™¤é•œåƒ"><span class="nav-number">1.5.</span> <span class="nav-text">åˆ é™¤é•œåƒ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dockerå®¹å™¨"><span class="nav-number">2.</span> <span class="nav-text">Dockerå®¹å™¨</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#æŸ¥çœ‹é…ç½®ä¿¡æ¯"><span class="nav-number">2.1.</span> <span class="nav-text">æŸ¥çœ‹é…ç½®ä¿¡æ¯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æŸ¥çœ‹å®¹å™¨åˆ—è¡¨"><span class="nav-number">2.2.</span> <span class="nav-text">æŸ¥çœ‹å®¹å™¨åˆ—è¡¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨"><span class="nav-number">2.3.</span> <span class="nav-text">åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å¯åŠ¨ã€åœæ­¢ã€é‡å¯å®¹å™¨"><span class="nav-number">2.4.</span> <span class="nav-text">å¯åŠ¨ã€åœæ­¢ã€é‡å¯å®¹å™¨</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#å¯åŠ¨"><span class="nav-number">2.4.1.</span> <span class="nav-text">å¯åŠ¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#é‡å¯"><span class="nav-number">2.4.2.</span> <span class="nav-text">é‡å¯</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åœæ­¢"><span class="nav-number">2.4.3.</span> <span class="nav-text">åœæ­¢</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åˆ é™¤å®¹å™¨"><span class="nav-number">2.5.</span> <span class="nav-text">åˆ é™¤å®¹å™¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æŸ¥çœ‹æ—¥å¿—"><span class="nav-number">2.6.</span> <span class="nav-text">æŸ¥çœ‹æ—¥å¿—</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æŸ¥çœ‹å®¹å™¨å†…çš„è¿›ç¨‹"><span class="nav-number">2.7.</span> <span class="nav-text">æŸ¥çœ‹å®¹å™¨å†…çš„è¿›ç¨‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ·±å…¥å®¹å™¨ä¿¡æ¯"><span class="nav-number">2.8.</span> <span class="nav-text">æ·±å…¥å®¹å™¨ä¿¡æ¯</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#æŸ¥çœ‹ç½‘ç»œé…ç½®"><span class="nav-number">2.8.1.</span> <span class="nav-text">æŸ¥çœ‹ç½‘ç»œé…ç½®</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æŸ¥çœ‹å®¹å™¨IPåœ°å€"><span class="nav-number">2.8.2.</span> <span class="nav-text">æŸ¥çœ‹å®¹å™¨IPåœ°å€</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æŸ¥çœ‹æ‰€æœ‰å®¹å™¨çš„IPåœ°å€"><span class="nav-number">2.8.3.</span> <span class="nav-text">æŸ¥çœ‹æ‰€æœ‰å®¹å™¨çš„IPåœ°å€</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dockerå®¹å™¨è¿›å…¥çš„4ç§æ–¹å¼"><span class="nav-number">3.</span> <span class="nav-text">Dockerå®¹å™¨è¿›å…¥çš„4ç§æ–¹å¼</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#SSHç™»é™†è¿›å®¹å™¨"><span class="nav-number">3.1.</span> <span class="nav-text">SSHç™»é™†è¿›å®¹å™¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#nsenterã€nsinitç­‰ç¬¬ä¸‰æ–¹å·¥å…·"><span class="nav-number">3.2.</span> <span class="nav-text">nsenterã€nsinitç­‰ç¬¬ä¸‰æ–¹å·¥å…·</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#docker-attach"><span class="nav-number">3.3.</span> <span class="nav-text">docker attach</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#docker-exec"><span class="nav-number">3.4.</span> <span class="nav-text">docker exec</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#å°æŠ€å·§"><span class="nav-number">4.</span> <span class="nav-text">å°æŠ€å·§</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#åœæ­¢å®¹å™¨-amp-åˆ é™¤å®¹å™¨æ‰€æœ‰å®¹å™¨-æ…ç”¨"><span class="nav-number">4.1.</span> <span class="nav-text">åœæ­¢å®¹å™¨ &amp; åˆ é™¤å®¹å™¨æ‰€æœ‰å®¹å™¨ (æ…ç”¨)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ¸…é™¤åçš„-lt-none-gt-lt-none-gt-é•œåƒ"><span class="nav-number">4.2.</span> <span class="nav-text">æ¸…é™¤åçš„&lt;none&gt;:&lt;none&gt;é•œåƒ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å¿«é€Ÿè¿›å…¥å®¹å™¨è„šæœ¬"><span class="nav-number">4.3.</span> <span class="nav-text">å¿«é€Ÿè¿›å…¥å®¹å™¨è„šæœ¬</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å®¹å™¨å¼€æœºè‡ªåŠ¨å¯åŠ¨"><span class="nav-number">4.4.</span> <span class="nav-text">å®¹å™¨å¼€æœºè‡ªåŠ¨å¯åŠ¨</span></a></li></ol></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2017 - <span itemprop="copyrightYear">2019</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">å¤§è¡¨å“¥</span></div><div class="powered-by"> ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div><div class="theme-info"> ä¸»é¢˜ - <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script><script type="text/javascript">!function(e,t){var n,c=e.getElementsByTagName(t)[0];"function"!=typeof LivereTower&&((n=e.createElement(t)).src="https://cdn-city.livere.com/js/embed.dist.js",n.async=!0,c.parentNode.insertBefore(n,c))}(document,"script")</script><link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css"><script src="/lib/algolia-instant-search/instantsearch.min.js"></script><script src="/js/src/algolia-search.js?v=5.1.2"></script><script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script><script>AV.initialize("u5Yv86KbQYQFUouHOSM2psVR-gzGzoHsz","hAHfKjdkT4uIQsmPM0uO5FVL")</script><script>function showTime(e){var t=new AV.Query(e),c=[],u=$(".leancloud_visitors");u.each(function(){c.push($(this).attr("id").trim())}),t.containedIn("url",c),t.find().done(function(e){var t=".leancloud-visitors-count";if(0!==e.length){for(var n=0;n<e.length;n++){var o=e[n],i=o.get("url"),s=o.get("time"),r=document.getElementById(i);$(r).find(t).text(s)}for(n=0;n<c.length;n++){i=c[n],r=document.getElementById(i);var l=$(r).find(t);""==l.text()&&l.text(0)}}else u.find(t).text(0)}).fail(function(e,t){console.log("Error: "+t.code+" "+t.message)})}function addCount(i){var e=$(".leancloud_visitors"),s=e.attr("id").trim(),r=e.attr("data-flag-title").trim(),t=new AV.Query(i);t.equalTo("url",s),t.find({success:function(e){if(0<e.length){var t=e[0];t.fetchWhenSave(!0),t.increment("time"),t.save(null,{success:function(e){$(document.getElementById(s)).find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to save Visitor num, with error message: "+t.message)}})}else{var n=new i,o=new AV.ACL;o.setPublicReadAccess(!0),o.setPublicWriteAccess(!0),n.setACL(o),n.set("title",r),n.set("url",s),n.set("time",1),n.save(null,{success:function(e){$(document.getElementById(s)).find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to create")}})}},error:function(e){console.log("Error:"+e.code+" "+e.message)}})}$(function(){var e=AV.Object.extend("Counter");1==$(".leancloud_visitors").length?addCount(e):1<$(".post-title-link").length&&showTime(e)})</script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script></body></html>